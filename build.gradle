/*
 * This file was generated by the Gradle 'init' task.
 */
apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'maven-publish'

repositories {
    mavenLocal()
    maven {
        url = uri('https://hub.spigotmc.org/nexus/content/repositories/snapshots/')
    }

    maven {
        url = uri('https://repo.papermc.io/repository/maven-public/')
    }
    
    maven {
        url = uri('https://repo.extendedclip.com/content/repositories/placeholderapi/')
    }
    
    maven {
        url = uri('https://jitpack.io')
    }
    
    maven {
        url = uri('https://repo.dmulloy2.net/repository/public/')
    }
    
    maven {
        url = uri('https://maven.enginehub.org/repo/')
    }
    
    maven {
    	url = uri('https://repo.mikeprimm.com/')
    }
     
}

dependencies {
	compileOnly 'org.spigotmc:spigot:1.19.4-R0.1-SNAPSHOT'
}

group = 'de.Ste3et_C0st'
version = '1.0'
description = 'BlockAdder'
archivesBaseName = "${rootProject.name}"

sourceCompatibility = 17
targetCompatibility = 17

sourceSets {
        main {
                java {
                        srcDirs= ["src/main/java"]
                }
                resources {
                        srcDirs= ["src/main/resources"]
                }
        }
}

jar.archiveFileName = "${project.name}-${project.version}.jar"

tasks {
	
    jar {
        enabled = true
    }
    
    finalizedBy{
    	dependsOn(copyJarToBin)
    }
    
}

publishing { 
    publications { 
         mavenJava(MavenPublication) { 
             from components.java
          }
       }
}

compileJava.options.encoding = 'UTF-8'

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

task copyJarToBin {
	copy {
	    from "build/libs/${project.name}-${project.version}.jar"
	    into "C:/Plugins/output"
	    rename { String fileName ->
        	fileName.replace("-$project.version", "")
    	}
	}
}

build.finalizedBy publishToMavenLocal